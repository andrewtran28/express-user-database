<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Search</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <h1>User Search</h1>
  <form action="/search" method="GET">
    <label>User Name: </label>
    <input type="text" name="querySearch" id="">
    <button type="submit">Search</button>
  </form>
  <br>
  <a href="/">Back to home</a>

  <% if (results.length > 0 && query) { %>
    <h2>Search Results:</h2>
    <ul>
      <% results.forEach(user => { %>
        <li>
          <strong><%= user.firstName %> <%= user.lastName %></strong><br>
          ID: <%= user.id %> <br>
          Email: <%= user.email %><br>
          <% if (user.age !== "") { %>
            Age: <%= user.age %><br>
          <% } %>

          <% if (user.bio !== "") { %>
            Bio: <%= user.bio %><br>
          <% } %>
        </li>
      <% }); %>
    </ul>
  <% } else if (query) { %>
    <h2>No results found for "<%= query %>"</h2>
  <% } %>
</body>
</html>